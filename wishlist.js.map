{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["import { getIDProduct } from './js/products-api.js';\nimport { CreateProductModal, loadWishlistProducts } from './js/render-function.js';\nimport { AddLocalStorageSet, countLocalStorage, removeFromStorage, shearId } from './js/storage.js';\n\n\nlet IdProduct = '';\nconst product = document.querySelector('.products');\nconst modal = document.querySelector('.modal');\nconst modalCloseBtn = document.querySelector('.modal__close-btn');\nconst BtnContainerLike = document.querySelector('.modal-product__actions');\n\n//Логіка сторінки Wishlist\n\naddEventListener('DOMContentLoaded', async () => {\n  loadWishlistProducts('wishlist');\n  countLocalStorage('wishlist');\n    countLocalStorage('cart');\n});\n\nproduct.addEventListener('click', async (event) => {\n  const item = event.target.closest('.products__item');\n  if (!item) return;\n  const productId = item.dataset.id;\n  IdProduct = productId; // Сохраняем ID продукта для дальнейшего использования\n\n  try {\n    const productData = await getIDProduct(productId);\n    CreateProductModal(productData); // вставляем HTML\n    modal.classList.add('modal--is-open');\n\n    // Получаем кнопки после вставки HTML\n    const wishlistBtn = document.querySelector('[data-btn=\"wishlist\"]');\n    const cartBtn = document.querySelector('[data-btn=\"cart\"]');\n\n    if (wishlistBtn && shearId('wishlist', IdProduct)) {\n      wishlistBtn.textContent = 'Remove from Wishlist';\n      wishlistBtn.classList.remove('modal-product__btn--wishlist');\n    }else {\n      wishlistBtn.textContent = 'Add to Wishlist';\n      wishlistBtn.classList.add('modal-product__btn--wishlist');\n    }\n\n    if (cartBtn && shearId('cart', IdProduct)) {\n      cartBtn.textContent = 'Remove from Cart';\n      cartBtn.classList.remove('modal-product__btn--cart');\n    } else {\n      cartBtn.textContent = 'Add to Cart';\n      cartBtn.classList.add('modal-product__btn--cart');\n    }\n\n  } catch (error) {\n    console.error('Ошибка при получении продукта:', error);\n  }\n});\n\nBtnContainerLike.addEventListener('click', (event) => {\n\n  if (event.target.textContent.trim() === 'Add to Wishlist') {\n    event.target.textContent = 'Remove from Wishlist';\n    event.target.classList.remove('modal-product__btn--wishlist');\n    AddLocalStorageSet('wishlist', IdProduct);\n\n    loadWishlistProducts();\n  } else if(event.target.textContent.trim() === 'Remove from Wishlist') {\n    event.target.textContent = 'Add to Wishlist';\n    event.target.classList.add('modal-product__btn--wishlist');\n    removeFromStorage('wishlist', IdProduct)\n    loadWishlistProducts();\n\n  } else if(event.target.textContent.trim() === 'Add to Cart') {\n    event.target.textContent = 'Remove from Cart';\n    event.target.classList.remove('modal-product__btn--cart');\n    AddLocalStorageSet('cart', IdProduct);\n\n  } else if(event.target.textContent.trim() === 'Remove from Cart') {\n    event.target.textContent = 'Add to Cart';\n    event.target.classList.add('modal-product__btn--cart');\n    removeFromStorage('cart', IdProduct)\n\n  }\n\n\n});\n\nmodalCloseBtn.addEventListener('click', () => {\n  modal.classList.remove('modal--is-open');\n});\n"],"names":["IdProduct","product","modal","modalCloseBtn","BtnContainerLike","loadWishlistProducts","countLocalStorage","event","item","productId","productData","getIDProduct","CreateProductModal","wishlistBtn","cartBtn","shearId","error","AddLocalStorageSet","removeFromStorage"],"mappings":"uIAKA,IAAIA,EAAY,GAChB,MAAMC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAgB,SAAS,cAAc,mBAAmB,EAC1DC,EAAmB,SAAS,cAAc,yBAAyB,EAIzE,iBAAiB,mBAAoB,SAAY,CAC/CC,EAAqB,UAAU,EAC/BC,EAAkB,UAAU,EAC1BA,EAAkB,MAAM,CAC5B,CAAC,EAEDL,EAAQ,iBAAiB,QAAS,MAAOM,GAAU,CACjD,MAAMC,EAAOD,EAAM,OAAO,QAAQ,iBAAiB,EACnD,GAAI,CAACC,EAAM,OACX,MAAMC,EAAYD,EAAK,QAAQ,GAC/BR,EAAYS,EAEZ,GAAI,CACF,MAAMC,EAAc,MAAMC,EAAaF,CAAS,EAChDG,EAAmBF,CAAW,EAC9BR,EAAM,UAAU,IAAI,gBAAgB,EAGpC,MAAMW,EAAc,SAAS,cAAc,uBAAuB,EAC5DC,EAAU,SAAS,cAAc,mBAAmB,EAEtDD,GAAeE,EAAQ,WAAYf,CAAS,GAC9Ca,EAAY,YAAc,uBAC1BA,EAAY,UAAU,OAAO,8BAA8B,IAE3DA,EAAY,YAAc,kBAC1BA,EAAY,UAAU,IAAI,8BAA8B,GAGtDC,GAAWC,EAAQ,OAAQf,CAAS,GACtCc,EAAQ,YAAc,mBACtBA,EAAQ,UAAU,OAAO,0BAA0B,IAEnDA,EAAQ,YAAc,cACtBA,EAAQ,UAAU,IAAI,0BAA0B,EAGnD,OAAQE,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACtD,CACH,CAAC,EAEDZ,EAAiB,iBAAiB,QAAUG,GAAU,CAEhDA,EAAM,OAAO,YAAY,KAAI,IAAO,mBACtCA,EAAM,OAAO,YAAc,uBAC3BA,EAAM,OAAO,UAAU,OAAO,8BAA8B,EAC5DU,EAAmB,WAAYjB,CAAS,EAExCK,KACQE,EAAM,OAAO,YAAY,KAAI,IAAO,wBAC5CA,EAAM,OAAO,YAAc,kBAC3BA,EAAM,OAAO,UAAU,IAAI,8BAA8B,EACzDW,EAAkB,WAAYlB,CAAS,EACvCK,KAEQE,EAAM,OAAO,YAAY,KAAI,IAAO,eAC5CA,EAAM,OAAO,YAAc,mBAC3BA,EAAM,OAAO,UAAU,OAAO,0BAA0B,EACxDU,EAAmB,OAAQjB,CAAS,GAE5BO,EAAM,OAAO,YAAY,KAAI,IAAO,qBAC5CA,EAAM,OAAO,YAAc,cAC3BA,EAAM,OAAO,UAAU,IAAI,0BAA0B,EACrDW,EAAkB,OAAQlB,CAAS,EAKvC,CAAC,EAEDG,EAAc,iBAAiB,QAAS,IAAM,CAC5CD,EAAM,UAAU,OAAO,gBAAgB,CACzC,CAAC"}