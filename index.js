import{a as r,b as i,d as f,e as h,c as m,f as u,h as L,i as y,g as S,C as b,s as g,A as _,r as C}from"./assets/render-function-DuXaPgrJ.js";import"./assets/vendor-BLO6kU33.js";let e=1;const q=document.querySelector(".load-more-btn"),x=document.querySelector(".categories");let a=null;const v=document.querySelector(".search-form"),w=document.querySelector(".search-form__btn-clear"),p=document.querySelector(".modal");document.querySelector(".modal-product__btn");const A=document.querySelector(".modal-product__actions"),E=document.querySelector(".products"),k=document.querySelector(".modal__close-btn");let s="";addEventListener("DOMContentLoaded",()=>{r(e,i(e)),f(h()),m("wishlist"),m("cart")});q.addEventListener("click",()=>{e++,a===null?r(e,i(e)):r(e,L(a,e))});x.addEventListener("click",t=>{if(u(),t.target.classList.contains("categories__btn")){const o=t.target.textContent;a=o,e=1;const c=document.querySelector(".products");if(c.innerHTML="",t.target.classList.contains("categories__btn--active")){t.target.classList.remove("categories__btn--active"),a=null,r(e,i(e));return}t.target.textContent==="ALL"&&(a=null,r(e,i(e))),t.target.classList.add("categories__btn--active"),r(e,L(o,e=1))}});v.addEventListener("submit",t=>{t.preventDefault();const o=document.querySelector(".products");o.innerHTML="";const c=document.querySelector(".search-form__input").value.trim();r(e,y(c,e)),u(),a=null});w.addEventListener("click",()=>{const t=document.querySelector(".search-form__input");t.value="";const o=document.querySelector(".products");o.innerHTML="",r(e,i(e)),u(),a=null});E.addEventListener("click",async t=>{const o=t.target.closest(".products__item");if(!o)return;const c=o.dataset.id;s=c;try{const l=await S(c);b(l),p.classList.add("modal--is-open");const n=document.querySelector('[data-btn="wishlist"]'),d=document.querySelector('[data-btn="cart"]');n&&g("wishlist",s)?(n.textContent="Remove from Wishlist",n.classList.remove("modal-product__btn--wishlist")):(n.textContent="Add to Wishlist",n.classList.add("modal-product__btn--wishlist")),d&&g("cart",s)?(d.textContent="Remove from Cart",d.classList.remove("modal-product__btn--cart")):(d.textContent="Add to Cart",d.classList.add("modal-product__btn--cart"))}catch(l){console.error("Ошибка при получении продукта:",l)}});k.addEventListener("click",()=>{p.classList.remove("modal--is-open")});A.addEventListener("click",t=>{t.target.textContent.trim()==="Add to Wishlist"?(t.target.textContent="Remove from Wishlist",t.target.classList.remove("modal-product__btn--wishlist"),_("wishlist",s)):t.target.textContent.trim()==="Remove from Wishlist"?(t.target.textContent="Add to Wishlist",t.target.classList.add("modal-product__btn--wishlist"),C("wishlist",s)):t.target.textContent.trim()==="Add to Cart"?(t.target.textContent="Remove from Cart",t.target.classList.remove("modal-product__btn--cart"),_("cart",s)):t.target.textContent.trim()==="Remove from Cart"&&(t.target.textContent="Add to Cart",t.target.classList.add("modal-product__btn--cart"),C("cart",s))});
//# sourceMappingURL=index.js.map
