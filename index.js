import"./assets/styles-JE8YjOlG.js";import{a as l,i as d}from"./assets/vendor-BLO6kU33.js";const u="https://dummyjson.com/products";async function p(t=1){try{return(await l.get(u,{params:{limit:12,skip:(t-1)*12}})).data}catch(e){return d.error({title:"error",message:`Помилка при завантаженні зображень:, ${e.message}`,timeout:3e3,position:"topRight"}),null}}async function m(){try{return(await l.get(u+"/category-list")).data}catch(t){return d.error({title:"error",message:`Помилка при завантаженні зображень:, ${t.message}`,timeout:3e3,position:"topRight"}),null}}async function g(t,e=1){try{return(await l.get(u+`/category/${t}`,{params:{limit:12,skip:(e-1)*12}})).data}catch(s){return d.error({title:"error",message:`Помилка при завантаженні зображень:, ${s.message}`,timeout:3e3,position:"topRight"}),null}}function y(t,e){const s=document.querySelector(".load-more-btn");if(!s||!e||typeof e.total!="number")return;const n=t*12,o=e.total,i=n<o;i&&s.classList.contains("is-hidden")?s.classList.remove("is-hidden"):!i&&!s.classList.contains("is-hidden")&&s.classList.add("is-hidden")}function c(t,e=p(t)){const s=document.querySelector(".products");e.then(n=>{n&&n.products&&(n.products.forEach(o=>{const i=document.createElement("li");i.classList.add("products__item"),i.dataset.id=o.id,i.innerHTML=`
    <img class="products__image" src="${o.images[0]}" alt=""/>
    <p class="products__title">${o.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:${o.brand}</span></p>
    <p class="products__category">Category:${o.category} </p>
    <p class="products__price">Price:${o.price} $</p>
        `,s.appendChild(i)}),y(t,n))})}function _(t=m()){const e=document.querySelector(".categories");e&&t.then(s=>s.forEach(n=>{const o=document.createElement("li");o.classList.add("categories__item"),o.innerHTML=`<button class="categories__btn" type="button">${n}</button>`,e.appendChild(o)}))}let r=1;const h=document.querySelector(".load-more-btn"),L=document.querySelector(".categories");let a=null;addEventListener("DOMContentLoaded",()=>{c(r,p(r)),_(m())});h.addEventListener("click",()=>{r++,a===null?c(r,p(r)):c(r,g(a,r))});L.addEventListener("click",t=>{if(t.target.classList.contains("categories__btn")){const e=t.target.textContent;a=e,r=1;const s=document.querySelector(".products");s.innerHTML="",c(r,g(e,r=1))}});
//# sourceMappingURL=index.js.map
