{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/handlers.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com/products';\n\nimport iziToast from 'izitoast';\n\n\n// Функції для отримання продуктів з API\nexport async function getProducts(page = 1) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// Функція для отримання продукту за ID\nexport async function getIDProduct(id) {\n  try {\n    const response = await axios.get(BASE_URL + `/${id}`);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// пошук продукту по ключовому слову\nexport async function getProductSearch(q, page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/search', {\n      params: {\n        q: q,\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати список категорій продуктів\nexport async function CategoryList() {\n  try {\n    const response = await axios.get(BASE_URL + '/category-list');\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати продукти по категорії\nexport async function getProductsFromCategory(category  ,page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/category' + `/${category}`, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n","\n\n\nexport function BLoadmore(page, data) {\n  const loadMoreBtn = document.querySelector('.load-more-btn');\n  if (!loadMoreBtn || !data || typeof data.total !== 'number') return;\n\n  const shownItems = page * 12;\n  const totalItems = data.total;\n\n\n  const shouldShow = shownItems < totalItems;\n\n  if (shouldShow && loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.remove('is-hidden');\n  } else if (!shouldShow && !loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.add('is-hidden');\n  }\n}\n","import { BLoadmore } from './handlers.js';\nimport { CategoryList, getProducts } from './products-api.js';\n\n// Функція для створення та завантаження продуктів на головній сторінці\nexport function CreateHomeLoadProducts(page, Api = getProducts(page)) {\n  const productsContainer = document.querySelector('.products');\n\n  Api.then(data => {\n    if (data && data.products) {\n      data.products.forEach(product => {\n        const li = document.createElement('li');\n        li.classList.add('products__item');\n        li.dataset.id = product.id;\n\n        li.innerHTML = `\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n        `;\n        productsContainer.appendChild(li);\n      });\n      BLoadmore(page, data);\n    }\n  });\n}\n\nexport function CreateCategoryList(categoryList = CategoryList()) {\n  const categoriesContainer = document.querySelector('.categories');\n  if (!categoriesContainer) return;\n\n  categoryList.then(data =>\n    data.forEach(category => {\n    const li = document.createElement('li');\n    li.classList.add('categories__item');\n    li.innerHTML = `<button class=\"categories__btn\" type=\"button\">${category}</button>`;\n    categoriesContainer.appendChild(li);\n  })\n  );\n}\n","import { CategoryList, getProducts, getProductsFromCategory } from './js/products-api.js';\nimport { CreateCategoryList, CreateHomeLoadProducts } from './js/render-function';\nlet page = 1;\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nconst categoriesContainer = document.querySelector('.categories');\nlet activeCategory = null;\n// Функція для завантаження продуктів при завантаженні сторінки\naddEventListener('DOMContentLoaded', () => {\n  CreateHomeLoadProducts(page, getProducts(page));\n  CreateCategoryList(CategoryList());\n});\n\n loadMoreBtn.addEventListener('click', () => {\n    page++;\n    if(activeCategory === null) {\n      CreateHomeLoadProducts(page, getProducts(page));\n    } else {\n      CreateHomeLoadProducts(page, getProductsFromCategory(activeCategory, page));\n    }\n  });\n\n// Обробник події для кнопок категорій\n  categoriesContainer.addEventListener('click',  (event) => {\n  if (event.target.classList.contains('categories__btn')) {\n    const category = event.target.textContent;\n    activeCategory = category; // Зберігаємо активну категорію\n    page = 1; // Сброс страницы\n    const productsContainer = document.querySelector('.products');\n    productsContainer.innerHTML = ''; // Очистка\n\n    CreateHomeLoadProducts(page, getProductsFromCategory(category  ,page = 1));\n  }\n});\n\n\n"],"names":["BASE_URL","getProducts","page","axios","error","iziToast","CategoryList","getProductsFromCategory","category","BLoadmore","data","loadMoreBtn","shownItems","totalItems","shouldShow","CreateHomeLoadProducts","Api","productsContainer","product","li","CreateCategoryList","categoryList","categoriesContainer","activeCategory","event"],"mappings":"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"}