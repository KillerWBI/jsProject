{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/handlers.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com/products';\n\nimport iziToast from 'izitoast';\n\n\n// Функції для отримання продуктів з API\nexport async function getProducts(page = 1) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// Функція для отримання продукту за ID\nexport async function getIDProduct(id) {\n  try {\n    const response = await axios.get(BASE_URL + `/${id}`);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// пошук продукту по ключовому слову\nexport async function getProductSearch(q, page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/search', {\n      params: {\n        q: q,\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати список категорій продуктів\nexport async function CategoryList() {\n  try {\n    const response = await axios.get(BASE_URL + '/category-list');\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати продукти по категорії\nexport async function getProductsFromCategory(category  ,page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/category' + `/${category}`, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n","\n\n\nexport function BLoadmore(page, data) {\n  const loadMoreBtn = document.querySelector('.load-more-btn');\n  if (!loadMoreBtn || !data || typeof data.total !== 'number') return;\n\n  const shownItems = page * 12;\n  const totalItems = data.total;\n\n\n  const shouldShow = shownItems < totalItems;\n\n  if (shouldShow && loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.remove('is-hidden');\n  } else if (!shouldShow && !loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.add('is-hidden');\n  }\n}\n\n","import { BLoadmore } from './handlers.js';\nimport { CategoryList, getProducts } from './products-api.js';\n\n// Функція для створення та завантаження продуктів на головній сторінці\nexport function CreateHomeLoadProducts(page, Api = getProducts(page)) {\n  const productsContainer = document.querySelector('.products');\n\n  Api.then(data => {\n    if (data && data.products) {\n      data.products.forEach(product => {\n        const li = document.createElement('li');\n        li.classList.add('products__item');\n        li.dataset.id = product.id;\n\n        li.innerHTML = `\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n        `;\n        productsContainer.appendChild(li);\n      });\n      BLoadmore(page, data);\n    }\n  });\n}\n\nexport function CreateCategoryList(categoryList = CategoryList()) {\n  const categoriesContainer = document.querySelector('.categories');\n  if (!categoriesContainer) return;\n\n  categoryList.then(data =>\n    data.forEach(category => {\n    const li = document.createElement('li');\n    li.classList.add('categories__item');\n    li.innerHTML = `<button class=\"categories__btn\" type=\"button\">${category}</button>`;\n    categoriesContainer.appendChild(li);\n  })\n  );\n}\n\nexport function removeFocusCategory() {\n   document.querySelectorAll('.categories__btn--active').forEach(btn => {\n    btn.classList.remove('categories__btn--active');\n  });\n\n\n\n}\n\n\nexport function CreateProductModal(productData) {\n  const modalContent = document.querySelector('.modal-product');\n  if (!modalContent) return;\n\n  modalContent.innerHTML = `\n    <div class=\"modal-product\">\n      <img class=\"modal-product__image\" src=\"${productData.images[0]}\" alt=\"${productData.title}\" />\n      <h2 class=\"modal-product__title\">${productData.title}</h2>\n      <p class=\"modal-product__brand\">Brand: ${productData.brand}</p>\n      <p class=\"modal-product__category\">Category: ${productData.category}</p>\n      <p class=\"modal-product__price\">Price: ${productData.price} $</p>\n      <p class=\"modal-product__description\">${productData.description}</p>\n    </div>\n  `;\n}\n","import { CategoryList, getIDProduct, getProducts, getProductSearch, getProductsFromCategory } from './js/products-api.js';\nimport { CreateCategoryList, CreateHomeLoadProducts, CreateProductModal, removeFocusCategory } from './js/render-function';\nlet page = 1;\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nconst categoriesContainer = document.querySelector('.categories');\nlet activeCategory = null;\nconst form = document.querySelector('.search-form');\nconst cleaninput = document.querySelector('.search-form__btn-clear');\nconst modal = document.querySelector('.modal');\nconst Btnlike = document.querySelector('.modal-product__btn');\nconst BtnContainerLike = document.querySelector('.modal-product__actions');\nconst product = document.querySelector('.products');\nconst modalCloseBtn = document.querySelector('.modal__close-btn');\naddEventListener('DOMContentLoaded', () => {\n  CreateHomeLoadProducts(page, getProducts(page));\n  CreateCategoryList(CategoryList());\n});\n\n loadMoreBtn.addEventListener('click', () => {\n    page++;\n    if(activeCategory === null) {\n      CreateHomeLoadProducts(page, getProducts(page));\n    } else {\n      CreateHomeLoadProducts(page, getProductsFromCategory(activeCategory, page));\n    }\n  });\n\n// Обробник події для кнопок категорій\n  categoriesContainer.addEventListener('click',  (event) => {\n    removeFocusCategory();\n  if (event.target.classList.contains('categories__btn')) {\n    const category = event.target.textContent;\n    activeCategory = category; // Зберігаємо активну категорію\n    page = 1; // Сброс страницы\n    const productsContainer = document.querySelector('.products');\n    productsContainer.innerHTML = ''; // Очистка\n\n    if (event.target.classList.contains('categories__btn--active')) {\n      event.target.classList.remove('categories__btn--active'); // Видаляємо клас активної категорії\n      activeCategory = null; // Скидаємо активну категорію\n      CreateHomeLoadProducts(page, getProducts(page)); // Завантажуємо всі продукти\n      return;\n    }\n\n    if (event.target.textContent === 'ALL') {\n      activeCategory = null; //\n      CreateHomeLoadProducts(page, getProducts(page));\n    }\n    event.target.classList.add('categories__btn--active'); // Додаємо клас активної категорії\n\n    CreateHomeLoadProducts(page, getProductsFromCategory(category  ,page = 1));\n  }\n});\n\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const productsContainer = document.querySelector('.products');\n  productsContainer.innerHTML = ''; // Очистка\n  const searchQuery = document.querySelector('.search-form__input').value.trim();\n  CreateHomeLoadProducts(page, getProductSearch(searchQuery, page));\n  removeFocusCategory();\n  activeCategory = null;\n});\ncleaninput.addEventListener('click', () => {\n  const input = document.querySelector('.search-form__input');\n  input.value = '';\n  const productsContainer = document.querySelector('.products');\n  productsContainer.innerHTML = ''; // Очистка\n  CreateHomeLoadProducts(page, getProducts(page));\n  removeFocusCategory();\n  activeCategory = null;\n});\n\n\n\nproduct.addEventListener('click', async (event) => {\n  const item = event.target.closest('.products__item');\n  if (!item) return;\n\n  const productId = item.dataset.id;\n\n  try {\n    const productData = await getIDProduct(productId); // ждём данные\n    CreateProductModal(productData); // передаём объект\n    modal.classList.add('modal--is-open');\n  } catch (error) {\n    console.error('Ошибка при получении продукта:', error);\n  }\n});\n\nmodalCloseBtn.addEventListener('click', () => {\n  modal.classList.remove('modal--is-open');\n});\n\nBtnContainerLike.addEventListener('click', (event) => {\n\n  if (event.target.textContent.trim() === 'Add to Wishlist') {\n    event.target.textContent = 'Remove from Wishlist';\n    event.target.classList.remove('modal-product__btn--wishlist');\n  } else if(event.target.textContent.trim() === 'Remove from Wishlist') {\n    event.target.textContent = 'Add to Wishlist';\n    event.target.classList.add('modal-product__btn--wishlist');\n  } else if(event.target.textContent.trim() === 'Add to Cart') {\n    event.target.textContent = 'Remove from Cart';\n    event.target.classList.remove('modal-product__btn--cart');\n  } else if(event.target.textContent.trim() === 'Remove from Cart') {\n    event.target.textContent = 'Add to Cart';\n    event.target.classList.add('modal-product__btn--cart');\n  }\n\n\n});\n\n"],"names":["BASE_URL","getProducts","page","axios","error","iziToast","getIDProduct","id","getProductSearch","q","CategoryList","getProductsFromCategory","category","BLoadmore","data","loadMoreBtn","shownItems","totalItems","shouldShow","CreateHomeLoadProducts","Api","productsContainer","product","li","CreateCategoryList","categoryList","categoriesContainer","removeFocusCategory","btn","CreateProductModal","productData","modalContent","activeCategory","form","cleaninput","modal","BtnContainerLike","modalCloseBtn","event","searchQuery","input","item","productId"],"mappings":"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"}