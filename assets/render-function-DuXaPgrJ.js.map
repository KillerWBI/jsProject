{"version":3,"file":"render-function-DuXaPgrJ.js","sources":["../../src/js/products-api.js","../../src/js/handlers.js","../../src/js/storage.js","../../src/js/render-function.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com/products';\n\nimport iziToast from 'izitoast';\n\n\n// Функції для отримання продуктів з API\nexport async function getProducts(page = 1) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `getProducts Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// Функція для отримання продукту за ID\nexport async function getIDProduct(id) {\n  try {\n    const response = await axios.get(BASE_URL + `/${id}`);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: ` getIDProduct Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n// пошук продукту по ключовому слову\nexport async function getProductSearch(q, page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/search', {\n      params: {\n        q: q,\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: ` getProductSearch Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати список категорій продуктів\nexport async function CategoryList() {\n  try {\n    const response = await axios.get(BASE_URL + '/category-list');\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: ` CategoryList Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n//отримати продукти по категорії\nexport async function getProductsFromCategory(category  ,page = 1) {\n  try {\n    const response = await axios.get(BASE_URL + '/category' + `/${category}`, {\n      params: {\n        limit: 12,\n        skip: (page - 1) * 12,\n      }\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n        title: 'error',\n        message: `getProductsFromCategory Помилка при завантаженні зображень:, ${error.message}`,\n        timeout: 3000,\n        position: 'topRight',\n      });\n    return null;\n  }\n}\n","\n\n\nexport function BLoadmore(page, data) {\n  const loadMoreBtn = document.querySelector('.load-more-btn');\n  if (!loadMoreBtn || !data || typeof data.total !== 'number') return;\n\n  const shownItems = page * 12;\n  const totalItems = data.total;\n\n\n  const shouldShow = shownItems < totalItems;\n\n  if (shouldShow && loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.remove('is-hidden');\n  } else if (!shouldShow && !loadMoreBtn.classList.contains('is-hidden')) {\n    loadMoreBtn.classList.add('is-hidden');\n  }\n}\n\n","\n\n\n// Функции для работы с LocalStorage\nexport function AddLocalStorageSet(key, id) {\n   const items = JSON.parse(localStorage.getItem(key)) || [];\n   const count = document.querySelector(`[data-${key}-count]`);\n if (!items.includes(id)) {\n    items.push(id); // ➕ добавляет В КОНЕЦ\n    localStorage.setItem(key, JSON.stringify(items));\n    count.textContent = items.length; // Обновляем счетчик\n\n  }\n}\n// Функция для подсчета количества элементов в LocalStorage\nexport function countLocalStorage(key) {\n  const items = JSON.parse(localStorage.getItem(key)) || [];\n  const count = document.querySelector(`[data-${key}-count]`);\n  if (count) {\n    count.textContent = items.length; // Обновляем счетчик\n  }\n}\n// Функция для удаления в LocalStorage\nexport function removeFromStorage(key, id) {\n  const items = JSON.parse(localStorage.getItem(key)) || [];\n  const count = document.querySelector(`[data-${key}-count]`);\n  const filtered = items.filter(item => item !== id);\n  localStorage.setItem(key, JSON.stringify(filtered));\n   count.textContent -= 1; // Обновляем счетчик\n}\n// Функция для получения из LocalStorage\nexport function getFromStorage(key) {\n  return JSON.parse(localStorage.getItem(key)) || [];\n}\n// Функция для проверки наличия id в LocalStorage\nexport function shearId(key , id) {\n\n  const data = JSON.parse(localStorage.getItem(key)) || [];\n  return data.includes(id);\n}\nexport function CleanLocalStorage() {\n  localStorage.clear();\n}\n","import { BLoadmore } from './handlers.js';\nimport { CategoryList, getIDProduct, getProducts } from './products-api.js';\nimport { getFromStorage } from './storage.js';\n\n// Функція для створення та завантаження продуктів на головній сторінці\nexport function CreateHomeLoadProducts(page, Api = getProducts(page)) {\n  const productsContainer = document.querySelector('.products');\n\n  Api.then(data => {\n    if (data && data.products) {\n      data.products.forEach(product => {\n        const li = document.createElement('li');\n        li.classList.add('products__item');\n        li.dataset.id = product.id;\n\n        li.innerHTML = `\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n        `;\n        productsContainer.appendChild(li);\n      });\n      BLoadmore(page, data);\n    }\n  });\n}\n\nexport function CreateCategoryList(categoryList = CategoryList()) {\n  const categoriesContainer = document.querySelector('.categories');\n  if (!categoriesContainer) return;\n\n  categoryList.then(data =>\n    data.forEach(category => {\n    const li = document.createElement('li');\n    li.classList.add('categories__item');\n    li.innerHTML = `<button class=\"categories__btn\" type=\"button\">${category}</button>`;\n    categoriesContainer.appendChild(li);\n  })\n  );\n}\n\nexport function removeFocusCategory() {\n   document.querySelectorAll('.categories__btn--active').forEach(btn => {\n    btn.classList.remove('categories__btn--active');\n  });\n\n\n\n}\n\n\nexport function CreateProductModal(productData) {\n  const modalContent = document.querySelector('.modal-product');\n  if (!modalContent) return;\n\n  modalContent.innerHTML = `\n    <div class=\"modal-product\" data-id=\"${productData.id}\">\n      <img class=\"modal-product__image\" src=\"${productData.images[0]}\" alt=\"${productData.title}\" />\n      <h2 class=\"modal-product__title\">${productData.title}</h2>\n      <p class=\"modal-product__brand\">Brand: ${productData.brand}</p>\n      <p class=\"modal-product__category\">Category: ${productData.category}</p>\n      <p class=\"modal-product__price\">Price: ${productData.price} $</p>\n      <p class=\"modal-product__description\">${productData.description}</p>\n    </div>\n  `;\n}\n\n// Функция для рендеринга одного продукта\nexport function renderSingleProduct(product) {\n  const productsContainer = document.querySelector('.products');\n  const li = document.createElement('li');\n  li.classList.add('products__item');\n  li.dataset.id = product.id;\n\n  li.innerHTML = `\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n  `;\n\n  productsContainer.appendChild(li);\n}\n\n\nexport async function loadWishlistProducts(ProductContainer) {\n  const productsContainer = document.querySelector('.products');\n  productsContainer.innerHTML = ''; // Очищаем контейнер перед загрузкой\n  const wishlist = getFromStorage(ProductContainer); // массив ID\n\n  for (const id of wishlist) {\n    const product = await getIDProduct(id); // жди каждый продукт отдельно\n\n    if (product ) {\n      renderSingleProduct(product);\n    } else {\n      console.warn(`Продукт с ID ${id} не загружен`);\n    }\n  }\n}\n\nexport async function TotalListCount () {\n  const cart = getFromStorage('cart');\n  let PriceAllcart = 0;\n\nfor (const id of cart) {\nconst product = await getIDProduct(id);\nif (product) {\n  PriceAllcart += product.price;\n}\n\n}\n  const cartCount = getFromStorage('cart').length;\n const ItemsSummary = document.querySelector('[data-count]');\n  const cartSummary = document.querySelector('[data-price]');\n\n  if (ItemsSummary) {\n    ItemsSummary.textContent = cartCount;\n  }\n  if (cartSummary) {\n    cartSummary.textContent = '$' + PriceAllcart.toFixed(2) ;\n  }\n\n}\n"],"names":["BASE_URL","getProducts","page","axios","error","iziToast","getIDProduct","id","getProductSearch","q","CategoryList","getProductsFromCategory","category","BLoadmore","data","loadMoreBtn","shownItems","totalItems","shouldShow","AddLocalStorageSet","key","items","count","countLocalStorage","removeFromStorage","filtered","item","getFromStorage","shearId","CreateHomeLoadProducts","Api","productsContainer","product","li","CreateCategoryList","categoryList","categoriesContainer","removeFocusCategory","btn","CreateProductModal","productData","modalContent","renderSingleProduct","loadWishlistProducts","ProductContainer","wishlist","TotalListCount","cart","PriceAllcart","cartCount","ItemsSummary","cartSummary"],"mappings":"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"}